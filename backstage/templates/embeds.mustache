<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" xmlns:og="http://opengraphprotocol.org/schema/">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/vnd.microsoft.icon" href="{{ blog.static.favicon.ico }}" />
  <link rel="icon" type="image/png" href="{{ blog.static.favicon.png }}" />
  <link rel="icon" type="image/svg+xml" href="{{ blog.static.favicon.svg }}" />
  <link rel="apple-touch-icon-precomposed" href="{{ blog.static.favicon.png }}" />
  <link rel="mask-icon" href="{{ blog.static.mask-icon.svg }}" color="#00a500" />
  <title>
    {{# card.title }}{{{card.title}}} - {{/card.title}}
    embeds
  </title>
  <style type="text/css">
    {{> header.css}}
    {{> highlight.css}}
    input {
      font-size: 0.9em;
    }
  </style>
  <script type="text/javascript">
    {{> header.js}}
  </script>
</head>
<body>
<header
  style="display: flex; flex-flow: row wrap; justify-content: space-between; border-bottom: 2px #ddd solid; margin-bottom: 0.3em;"
>
  <a href="/backstage">&larr;</a>
  <form method="GET" action="/backstage/embeds">
    <input name="url" value="{{ url }}"
      {{^ cardHTML }}autofocus{{/ cardHTML }}
    >
    <button>&rarr;</button>
    <button name="preview" value="1">&circlearrowright;</button>
  </form>
  <form method="POST" action="#" style="width: 100%">
    <input type="hidden" name="url" value="{{url}}">
    {{# status.saved }}
    <a>saved @ 2019-07-27</a>
    <button name="delete" value="1">delete</button>
    {{/ status.saved }}
    {{# status.preview }}
    <input type="hidden" name="metadata" value="{{rawMetadataJSON}}">
    <input type="hidden" name="html" value="{{cardHTML}}">
    <button name="save" value="1">save</button>
    {{/ status.preview }}
  </form>
</header>
<main>

<article>
  {{{ cardHTML }}}

  <pre><code>{{ cardJSON }}</code></pre>

  {{# parsedMetadataJSON }}
  <pre><code>{{ parsedMetadataJSON }}</code></pre>
  {{/ parsedMetadataJSON }}

  <pre><code>{{# rawMetadata }}{{#name}}&lt;meta name="{{name}}" content="{{content}}"&gt;{{/name}}{{#property}}&lt;meta property="{{property}}" content="{{content}}"&gt;{{/property}}
{{/ rawMetadata }}</code></pre>
</article>

</main>
</body>
</html>
