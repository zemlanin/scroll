<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {{#feed}}
  <link rel="alternate" type="application/rss+xml" title="{{ feed.description }}" href="{{{ feed.url }}}" />
  {{/feed}}
  <link href="https://twitter.com/zemlanin" rel="me">
  <link href="https://github.com/zemlanin" rel="me">
  <title>
    {{#title}}{{title}} - {{/title}}
    {{blog.title}}
  </title>
  <style type="text/css">
    body {
      max-width: 40em;
      margin: auto;
      display: flex;
      flex-direction: column;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
        Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
      font-size: 20px;
      line-height: 1.58;
    }
    
    h1, h2, h3 {
      margin: 0.5em 0;
      line-height: 1.3;
    }
    
    p {
      margin: 0.8em 0;
    }

    body.dark {
      background-color: black;
      color: #e3e3e3;
    }

    @media (max-width: 40em) {
      body {
        padding-bottom: 1em;
        padding-left: 1em;
        padding-right: 1em;
        font-size: 17px;
      }
    }

    @supports (padding: max(0px)) {
      body {
        padding-bottom: max(1em, env(safe-area-inset-bottom));
        padding-left: max(1em, env(safe-area-inset-left));
        padding-right: max(1em, env(safe-area-inset-right));
      }
    }

    * {
      box-sizing: border-box;
    }

    article {
      margin-bottom: 3em;
      max-width: 100%;
      overflow-wrap: break-word;
    }

    article img,
    article video {
      max-width: 100%;
      width: auto;
      max-height: 30em;
      height: auto;
      display: block;
      margin: auto;
    }

    article iframe,
    article a.future-frame {
      display: block;
      margin: auto;
      max-width: 100%;
    }

    @media (max-width: 40em) {
      article img,
      article video {
        max-height: 22.5em;
      }
    }

    article iframe[src*="music.apple.com/"] {
      max-width: calc(100% - 0.1em);
    }

    article a.future-frame {
      position: relative;
    }

    article a[href*="youtube.com/"].future-frame:after {
      position: absolute;
      width: 64px;
      height: 64px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      content: "";
      background-image: url("data:image/svg+xml;utf8,\
                    <svg xmlns='http://www.w3.org/2000/svg' version='1.1' viewBox='0 0 1024 721' enable-background='new 0 0 1024 721' xml:space='preserve'>\
                    <path fill='white' d='M407,493l276-143L407,206V493z'/>\
                    <path fill='red' d='M1013,156.3c0,0-10-70.4-40.6-101.4C933.6,14.2,890,14,870.1,11.6C727.1,1.3,512.7,1.3,512.7,1.3 h-0.4c0,0-214.4,0-357.4,10.3C135,14,91.4,14.2,52.6,54.9C22,85.9,12,156.3,12,156.3S1.8,238.9,1.8,321.6v77.5 C1.8,481.8,12,564.4,12,564.4s10,70.4,40.6,101.4c38.9,40.7,89.9,39.4,112.6,43.7c81.7,7.8,347.3,10.3,347.3,10.3 s214.6-0.3,357.6-10.7c20-2.4,63.5-2.6,102.3-43.3c30.6-31,40.6-101.4,40.6-101.4s10.2-82.7,10.2-165.3v-77.5 C1023.2,238.9,1013,156.3,1013,156.3z M407,493V206l276,144L407,493z'/>\
                  </svg>");
      background-repeat: no-repeat;
      background-position: center;
    }

    article a[href*="youtube.com/"].future-frame.loading:after {
      display: none;
    }

    article time {
      display: block;
      text-align: right;
      font-size: 0.9em;
    }

    article time a {
      color: gray;
      text-decoration: none;
    }

    article time svg {
      width: 1em;
      height: 1em;
    }

    article blockquote {
      margin-left: 0;
      margin-right: 0;
      padding-left: 0.7em;
      border-left: 2px solid rgba(0, 165, 0, 0.7);
    }

    nav {
      display: flex;
      flex-flow: row;
    }

    nav,
    footer {
      margin-bottom: 1em;
      margin-left: -1em;
      margin-right: -1em;
    }

    nav {
      justify-content: space-between;
      word-break: break-word;
    }

    nav > *,
    footer > * {
      margin-left: 1em;
      margin-right: 1em;
    }

    @media (max-width: 40em) {
      nav,
      footer {
        margin-right: 0;
      }

      nav > *,
      footer > * {
        margin-right: 0;
      }
    }

    article code {
      background: white;
      border: solid 1px #dedede;
      padding: 0.1em 0.2em;
      font-size: 0.9em;
      font-family: "SF Mono", "Menlo-Regular", Consolas, "Andale Mono WT",
        "Andale Mono", "Lucida Console", "Lucida Sans Typewriter",
        "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono",
        "Nimbus Mono L", Monaco, "Courier New", Courier, monospace;
    }

    article pre code {
      border: none;
      padding: 0;
      word-wrap: normal;
      font-size: 0.8em;
    }

    article pre {
      background: white;
      border: solid 1px #dedede;
      padding: 0.2em 0.4em;
      overflow-x: scroll;
      line-height: 1.5;
    }

    article h1 a,
    article h2 a,
    article h3 a {
      text-decoration: none;
    }

    body.dark article code,
    body.dark article pre {
      background: black;
      border-color: #414141;
    }

    body.dark article pre code {
      border: none;
    }

    a,
    header a:visited,
    footer a:visited {
      color: #00a500;
      -webkit-text-decoration-color: rgba(0, 165, 0, 0.6);
      text-decoration-color: rgba(0, 165, 0, 0.6);
    }

    body.dark a {
      -webkit-text-decoration-color: rgba(0, 165, 0, 0.8);
      text-decoration-color: rgba(0, 165, 0, 0.8);
    }

    header a,
    nav a,
    footer a {
      text-decoration: none;
    }

    nav a,
    footer a {
      display: inline-block;
    }

    header {
      display: flex;
      flex-direction: row;
      align-items: first baseline;
      justify-content: flex-start;
    }

    header h1,
    header h2 {
      flex-grow: 1;
      flex-shrink: 1;
      display: flex;
      flex-flow: row wrap;
      word-break: break-all;
    }

    #night-mode {
      border: none;
      width: 1.5em;
      height: 1.5em;
      -webkit-appearance: none;
      -moz-appearance: none;
      -ms-appearance: none;
      -o-appearance: none;
      appearance: none;
      cursor: pointer;
    }

    #night-mode:after {
      position: relative;
      display: block;
      width: 1.5em;
      height: 1.5em;
      vertical-align: middle;
      content: "";
      color: black;
      background: white
        url("data:image/svg+xml;utf8,<svg role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='#888' d='{{fas.lightbulb}}'></path></svg>");
    }
    #night-mode:checked:after {
      background-color: black;
    }
  </style>
  <script type="text/javascript">
    /* eslint-env browser */
    document.addEventListener("DOMContentLoaded", function() {
      var nightModeCheckbox = document.getElementById("night-mode");

      nightModeCheckbox.checked =
        document.cookie && document.cookie.match(/(^|; )night-mode=1(;|$)/);

      if (nightModeCheckbox.checked) {
        document.body.classList.add("dark");
      }

      nightModeCheckbox.addEventListener("change", function () {
        if (nightModeCheckbox.checked) {
          document.body.classList.add("dark");
          document.cookie = "night-mode=1; path=/";
        } else {
          document.body.classList.remove("dark");
          document.cookie = "night-mode=0; path=/";
        }
      });
    });

    document.addEventListener("DOMContentLoaded", function() {
      function handleFutureFrame(e) {
        if (e.ctrlKey || e.metaKey) {
          return true;
        }

        var target = e.currentTarget;
        target.removeEventListener("click", handleFutureFrame);
        target.classList.add("loading");
        var i = document.createElement("iframe");
        i.setAttribute("src", target.getAttribute("data-src"));
        i.setAttribute("frameborder", 0);
        i.setAttribute("width", 640);
        i.setAttribute("height", 0);
        i.setAttribute("allow", "autoplay; encrypted-media");
        i.setAttribute("allowfullscreen", "1");
        target.parentNode.insertBefore(i, target);
        i.addEventListener("load", function() {
          i.setAttribute("height", 360);
          target.style.display = "none";
        });
        e.preventDefault();
      }

      Array.prototype.forEach.call(
        document.querySelectorAll("a.future-frame[data-src]"),
        function(ff) {
          ff.addEventListener("click", handleFutureFrame);
        }
      );
    });
  </script>
</head>
<body>
  <header>
    {{#post}}
      <h2>
        <a href="{{{blog.url}}}">{{blog.title}}</a>
        <span>&nbsp;/&nbsp;<span><a href="{{{url}}}"><svg style="vertical-align:middle" xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 512 512"><path fill="currentColor" d="{{fas.link}}"/></svg></a>
      </h2>
    {{/post}}
    {{^post}}
      <h1>
        <a href="{{{blog.url}}}">{{blog.title}}</a>
        {{#title}}&nbsp;<span>/ <a href="{{{url}}}">{{title}}</a></span>{{/title}}
      </h1>
    {{/post}}

    <input type="checkbox" id="night-mode" />
  </header>
